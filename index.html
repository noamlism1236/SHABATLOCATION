<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>זמני שבת</title>
    <script>
        const shabbatTimes = {
            "ירושלים": {entry: "16:55", exit: "18:07", lat: 31.7683, lon: 35.2137},
            "תל אביב": {entry: "17:11", exit: "18:09", lat: 32.0853, lon: 34.7818},
            "חיפה": {entry: "17:04", exit: "18:08", lat: 32.7940, lon: 34.9896},
            "באר שבע": {entry: "17:05", exit: "18:09", lat: 31.2520, lon: 34.7915},
            "אשדוד": {entry: "17:12", exit: "18:10", lat: 31.8014, lon: 34.6431},
            "נתניה": {entry: "17:10", exit: "18:09", lat: 32.3329, lon: 34.8599},
            "מודיעין": {entry: "17:04", exit: "18:08", lat: 31.8983, lon: 35.0105},
            "אילת": {entry: "17:06", exit: "18:10", lat: 29.5581, lon: 34.9482}
        };
        
        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showShabbatTimes, showError);
            } else {
                document.getElementById("shabbat-times").innerHTML = "מיקום לא נתמך בדפדפן זה";
            }
        }
        
        function showShabbatTimes(position) {
            let userLat = position.coords.latitude;
            let userLon = position.coords.longitude;
            let closestCity = null;
            let minDistance = Infinity;
            
            for (const city in shabbatTimes) {
                let cityLat = shabbatTimes[city].lat;
                let cityLon = shabbatTimes[city].lon;
                let distance = Math.sqrt((cityLat - userLat) ** 2 + (cityLon - userLon) ** 2);
                
                if (distance < minDistance) {
                    minDistance = distance;
                    closestCity = city;
                }
            }
            
            if (closestCity) {
                document.getElementById("shabbat-times").innerHTML =
                    `<h2>זמני שבת ב${closestCity}</h2>
                    <p>כניסת שבת: ${shabbatTimes[closestCity].entry}</p>
                    <p>יציאת שבת: ${shabbatTimes[closestCity].exit}</p>`;
            }
        }
        
        function showError(error) {
            document.getElementById("shabbat-times").innerHTML = "לא ניתן לאתר את המיקום";
        }
    </script>
</head>
<body onload="getLocation()">
    <h1>זמני שבת לפי מיקום</h1>
    <div id="shabbat-times">טוען...</div>
</body>
</html>
