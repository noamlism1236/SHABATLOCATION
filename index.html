<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>חיפוש זמני שבת לפי מיקום</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Hebrew&display=swap');
        body {
            font-family: 'Noto Sans Hebrew', sans-serif;
            background-color: #e8f5e9;
            text-align: center;
            padding: 20px;
            color: #1b5e20;
        }
        h1 {
            font-size: 32px;
        }
        button {
            background-color: #4caf50;
            color: white;
            font-size: 20px;
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 20px;
        }
        button:hover {
            background-color: #388e3c;
        }
        p {
            font-size: 24px;
            margin-top: 20px;
        }
    </style>
    <script>
        const shabbatTimes = {
            "ירושלים": {"כניסה": "16:55", "יציאה": "18:07", "lat": 31.7683, "lon": 35.2137},
            "תל אביב": {"כניסה": "17:11", "יציאה": "18:09", "lat": 32.0853, "lon": 34.7818},
            "חיפה": {"כניסה": "17:04", "יציאה": "18:08", "lat": 32.7940, "lon": 34.9896},
            "באר שבע": {"כניסה": "17:05", "יציאה": "18:09", "lat": 31.252973, "lon": 34.791462},
            "רחובות": {"כניסה": "17:10", "יציאה": "18:09", "lat": 31.896, "lon": 34.811},
            "אשדוד": {"כניסה": "17:12", "יציאה": "18:10", "lat": 31.8014, "lon": 34.6431},
            "מודיעין": {"כניסה": "17:04", "יציאה": "18:08", "lat": 31.8983, "lon": 35.0104},
            "עפולה": {"כניסה": "17:02", "יציאה": "18:07", "lat": 32.607, "lon": 35.289},
            "נהריה": {"כניסה": "17:00", "יציאה": "18:07", "lat": 33.0088, "lon": 35.0995},
            "בית שמש": {"כניסה": "16:54", "יציאה": "18:08", "lat": 31.751, "lon": 34.988},
            "כפר סבא": {"כניסה": "17:11", "יציאה": "18:08", "lat": 32.175, "lon": 34.907},
            "חולון": {"כניסה": "17:11", "יציאה": "18:09", "lat": 32.016, "lon": 34.775},
            "דימונה": {"כניסה": "17:06", "יציאה": "18:09", "lat": 31.070, "lon": 35.033},
            "רמלה": {"כניסה": "17:10", "יציאה": "18:09", "lat": 31.931, "lon": 34.873},
            "רעננה": {"כניסה": "17:10", "יציאה": "18:08", "lat": 32.184, "lon": 34.870},
            "נתניה": {"כניסה": "17:10", "יציאה": "18:09", "lat": 32.329, "lon": 34.853},
            "חדרה": {"כניסה": "17:02", "יציאה": "18:08", "lat": 32.441, "lon": 34.919},
            "טבריה": {"כניסה": "16:58", "יציאה": "18:06", "lat": 32.7959, "lon": 35.5287}
        };

        function getUserLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(position => {
                    findClosestCity(position.coords.latitude, position.coords.longitude);
                }, () => {
                    document.getElementById("result").innerText = "לא ניתן לאתר את מיקומך.";
                });
            } else {
                document.getElementById("result").innerText = "הדפדפן שלך אינו תומך במיקום גיאוגרפי.";
            }
        }

        function findClosestCity(userLat, userLon) {
            let closestCity = "";
            let minDistance = Infinity;

            Object.keys(shabbatTimes).forEach(city => {
                let cityData = shabbatTimes[city];
                let distance = Math.sqrt(
                    Math.pow(userLat - cityData.lat, 2) +
                    Math.pow(userLon - cityData.lon, 2)
                );
                if (distance < minDistance) {
                    minDistance = distance;
                    closestCity = city;
                }
            });

            const times = shabbatTimes[closestCity];
            document.getElementById("result").innerHTML = `העיר הקרובה ביותר: ${closestCity}<br>
                זמני כניסת שבת: ${times["כניסה"]}<br>
                זמני יציאת שבת: ${times["יציאה"]}`;
        }
    </script>
</head>
<body>
    <h1>חיפוש זמני שבת</h1>
    <button onclick="getUserLocation()">מצא זמני שבת לפי מיקום</button>
    <p id="result"></p>
</body>
</html>
